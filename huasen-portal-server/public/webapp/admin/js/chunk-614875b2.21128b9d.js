(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-614875b2"],{"37bb":function(e,t,s){e.exports=s.p+"img/default.74765cc7.svg"},"64bf":function(e,t,s){},9495:function(e,t,s){"use strict";s("64bf")},dc92:function(e,t,s){"use strict";s.d(t,"a",(function(){return c})),s.d(t,"b",(function(){return d}));s("a4d3"),s("e01a"),s("d3b7"),s("d28b"),s("3ca3"),s("ddb0");var r=s("06c5");function a(e,t){var s="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!s){if(Array.isArray(e)||(s=Object(r["a"])(e))||t&&e&&"number"===typeof e.length){s&&(e=s);var a=0,i=function(){};return{s:i,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,o=!0,u=!1;return{s:function(){s=s.call(e)},n:function(){var e=s.next();return o=e.done,e},e:function(e){u=!0,n=e},f:function(){try{o||null==s["return"]||s["return"]()}finally{if(u)throw n}}}}var i=s("d4ec"),n=s("bee2"),o=s("53ca"),u=(s("d81d"),s("ac1f"),s("1276"),{isNoEmpty:function(e,t){if(""===e)return t},minLength:function(e,t,s){if(e&&e.length<t)return s},maxLength:function(e,t,s){if(e&&e.length>t)return s},isMobile:function(e,t){if(!/(^1[3|5|8][0-9]{9}$)/.test(e))return t},isNumber:function(e,t){if(!/^\d*$/.test(e))return t},isChinese:function(e,t){if(!/^[\u4E00-\u9FA5\uf900-\ufa2d0-9a-zA-Z]+$/.test(e))return t},isName:function(e,t){if(!/^([\u4E00-\u9FA5\uf900-\ufa2d0-9a-zA-Z]·?)*[\u4E00-\u9FA5\uf900-\ufa2d0-9a-zA-Z]$/.test(e))return t},isUrl:function(e,t){if(""!==e)return/^((https?:\/\/)|(www\.))((([0-9]{1,3}\.){3}[0-9]{1,3})|localhost|([a-zA-Z0-9]+\.[a-zA-Z0-9\\-]+)+)((\/[a-zA-Z0-9]*)+|(:\d+\/)|(\/#\/))/.test(e)||/^public\/default(\/[a-zA-Z0-9-]+)+(\/\w+\.\w+)$/.test(e)?void 0:t},isIDCard:function(e,t){if(!/(^\d{15}$)|(^\d{17}(\d|X|x)$)/.test(e))return t},isPlateNumber:function(e,t){if(!/^(([京津沪渝冀豫云辽黑湘皖鲁新苏浙赣鄂桂甘晋蒙陕吉闽贵粤青藏川宁琼使领][A-Z](([0-9]{5}[DF])|([DF]([A-HJ-NP-Z0-9])[0-9]{4})))|([京津沪渝冀豫云辽黑湘皖鲁新苏浙赣鄂桂甘晋蒙陕吉闽贵粤青藏川宁琼使领][A-Z][A-HJ-NP-Z0-9]{4}[A-HJ-NP-Z0-9挂学警港澳使领]))$/.test(e))return t},isEmail:function(e,t){if(!/^(([^()[\]\\.,;:\s@\\"]+(\.[^()[\]\\.,;:\s@\\"]+)*)|(\\".+\\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e))return t},isJSONObject:function(e,t){if(""!==e)try{var s=JSON.parse(e);if(Array.isArray(s)||"object"!=Object(o["a"])(s))return t}catch(r){return t}},isJSONArray:function(e,t){if(""!==e)try{var s=JSON.parse(e);if(!Array.isArray(s))return t}catch(r){return t}}}),c=function(){function e(t){Object(i["a"])(this,e),this.caches=[]}return Object(n["a"])(e,[{key:"add",value:function(e,t){var s=this;t.map((function(t){var r=t.strategy.split(/:|：/),a=r.shift();r.unshift(e),r.push(t.errMsg),s.caches.push((function(){return u[a].apply(s,r)}))}))}},{key:"start",value:function(){var e,t=a(this.caches);try{for(t.s();!(e=t.n()).done;){var s=e.value,r=s();if(r)return r}}catch(i){t.e(i)}finally{t.f()}}}]),e}();function d(e){var t,s=a(e);try{for(s.s();!(t=s.n()).done;){var r=t.value,i=new c;i.add(r.value,r.rules);var n=i.start();if(n)return n}}catch(o){s.e(o)}finally{s.f()}}},ffbc:function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"sign shadow"},[e._m(0),s("div",{staticClass:"tab"},[s("ul",e._l(e.tabs,(function(t,r){return s("li",{key:r,class:{active:e.activeIndex==r},on:{click:function(t){e.activeIndex=r}}},[e._v(" "+e._s(t)+" ")])})),0),s("div",{staticClass:"content"},[s("span",{directives:[{name:"show",rawName:"v-show",value:0==e.activeIndex,expression:"0 == activeIndex"}],staticClass:"panel"},[s("section",{staticClass:"login"},[s("form",{attrs:{name:"login"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.id,expression:"user.id"}],staticClass:"id",attrs:{type:"text",placeholder:"邮箱登陆"},domProps:{value:e.user.id},on:{input:[function(t){t.target.composing||e.$set(e.user,"id",t.target.value)},function(t){e.user.id=e.inputMail(e.user.id)}]}}),s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.password,expression:"user.password"}],staticClass:"password",attrs:{type:"password",autocomplete:"off",placeholder:"输入密码"},domProps:{value:e.user.password},on:{input:[function(t){t.target.composing||e.$set(e.user,"password",t.target.value)},function(t){e.user.password=e.inputNormal(e.user.password)}]}}),s("div",{staticClass:"buttom login-buttom",on:{click:function(t){return e.loginHandle()}}},[e._v(" 登 陆 ")])])])]),s("span",{directives:[{name:"show",rawName:"v-show",value:1==e.activeIndex,expression:"1 == activeIndex"}],staticClass:"panel"},[s("section",{staticClass:"register relative"},[s("form",{attrs:{name:"register"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.id,expression:"user.id"}],staticClass:"id",attrs:{type:"text",placeholder:"邮箱注册"},domProps:{value:e.user.id},on:{input:[function(t){t.target.composing||e.$set(e.user,"id",t.target.value)},function(t){e.user.id=e.inputMail(e.user.id)}]}}),"checkbox"===(e.isShowPassword?"text":"password")?s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.password,expression:"user.password"}],staticClass:"password",attrs:{autocomplete:"off",placeholder:"数字字母下划线",type:"checkbox"},domProps:{checked:Array.isArray(e.user.password)?e._i(e.user.password,null)>-1:e.user.password},on:{input:function(t){e.user.password=e.inputNormal(e.user.password)},change:function(t){var s=e.user.password,r=t.target,a=!!r.checked;if(Array.isArray(s)){var i=null,n=e._i(s,i);r.checked?n<0&&e.$set(e.user,"password",s.concat([i])):n>-1&&e.$set(e.user,"password",s.slice(0,n).concat(s.slice(n+1)))}else e.$set(e.user,"password",a)}}}):"radio"===(e.isShowPassword?"text":"password")?s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.password,expression:"user.password"}],staticClass:"password",attrs:{autocomplete:"off",placeholder:"数字字母下划线",type:"radio"},domProps:{checked:e._q(e.user.password,null)},on:{input:function(t){e.user.password=e.inputNormal(e.user.password)},change:function(t){return e.$set(e.user,"password",null)}}}):s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.password,expression:"user.password"}],staticClass:"password",attrs:{autocomplete:"off",placeholder:"数字字母下划线",type:e.isShowPassword?"text":"password"},domProps:{value:e.user.password},on:{input:[function(t){t.target.composing||e.$set(e.user,"password",t.target.value)},function(t){e.user.password=e.inputNormal(e.user.password)}]}}),s("i",{staticClass:"iconfont absolute right-px-14 top-px-80",class:e.isShowPassword?"icon-md-eye":"icon-md-eye-off",on:{click:function(){return e.isShowPassword=!e.isShowPassword}}}),s("div",{staticClass:"mail-code"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.mailCode,expression:"user.mailCode"}],staticClass:"code",attrs:{type:"number",placeholder:"请输入邮箱接收的验证码"},domProps:{value:e.user.mailCode},on:{input:function(t){t.target.composing||e.$set(e.user,"mailCode",t.target.value)}}}),s("div",{ref:"codeButtom",on:{click:e.getMailCode}},[e._v("点击发送")])]),s("div",{staticClass:"buttom register-buttom",on:{click:e.registerHandle}},[e._v(" 注 册 ")])])])])])])])},a=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"banner"},[r("img",{attrs:{src:s("37bb")}})])}],i=(s("ac1f"),s("5319"),s("dc92")),n={name:"Sign",data:function(){return{activeIndex:0,isShowPassword:!1,tabs:["登 陆","注 册"],user:{id:"",password:"",mailCode:""},count:60,timer:null,timerSwitch:!0}},methods:{getMailCode:function(){var e=this;this.user.id?1!=!this.timerSwitch?(this.API.getMailCode({mail:this.user.id}),this.timer=setInterval((function(){e.count>=0?e.$refs.codeButtom.innerText=--e.count:(clearInterval(e.timer),e.count=60,e.timerSwitch=!0,e.$refs.codeButtom.innerText="点击发送")}),1e3),this.timerSwitch=!1):this.$notify({title:"警告",message:"请耐心等待验证码",type:"warning",position:"top-left",duration:2e3}):this.$notify({title:"警告",message:"请输入邮箱",type:"warning",position:"top-left",duration:2e3})},inputMail:function(e){return e.replace(/[^0-9a-zA-Z_@\\.]/g,"")},inputNormal:function(e){return e.replace(/[^\w]/g,"")},loginHandle:function(){var e=this,t=Object(i["b"])([{value:this.user.id,rules:[{strategy:"isNoEmpty",errMsg:"邮箱不能为空"},{strategy:"minLength：5",errMsg:"账号请长度不小于5"},{strategy:"maxLength：20",errMsg:"账号请长度不大于20"},{strategy:"isEmail",errMsg:"账号请输入邮箱"}]},{value:this.user.password,rules:[{strategy:"isNoEmpty",errMsg:"密码不能为空"},{strategy:"minLength：5",errMsg:"密码请长度不小于5"},{strategy:"maxLength：20",errMsg:"密码请长度不大于20"}]}]);if(t)this.$notify({title:"警告",message:t,type:"warning",position:"top-left",duration:2e3});else{var s={aid:this.user.id,password:this.user.password};this.API.login(s).then((function(t){e.$router.push("/home"),setTimeout((function(){window.location.reload()}),1e3)}))}},registerHandle:function(){var e=Object(i["b"])([{value:this.user.id,rules:[{strategy:"isNoEmpty",errMsg:"邮箱不能为空"},{strategy:"minLength：5",errMsg:"账号请长度不小于5"},{strategy:"maxLength：20",errMsg:"账号请长度不大于20"},{strategy:"isEmail",errMsg:"账号请输入邮箱"}]},{value:this.user.password,rules:[{strategy:"isNoEmpty",errMsg:"密码不能为空"},{strategy:"minLength：5",errMsg:"密码请长度不小于5"},{strategy:"maxLength：20",errMsg:"密码请长度不大于20"}]},{value:this.user.mailCode,rules:[{strategy:"isNoEmpty",errMsg:"验证码不能为空"}]}]);if(e)this.$notify({title:"警告",message:e,type:"warning",position:"top-left",duration:2e3});else{var t={aid:this.user.id,password:this.user.password,mailCode:this.user.mailCode};this.API.register(t).then((function(e){}))}}},destroyed:function(){clearInterval(this.timer)}},o=n,u=(s("9495"),s("2877")),c=Object(u["a"])(o,r,a,!1,null,"c84cbc02",null);t["default"]=c.exports}}]);