(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1c54dafa","chunk-1166e192"],{"13f9":function(t,e,n){},"3e5e":function(t,e,n){},aa8f:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"sprite-icon-page"},[n("header",{staticClass:"flex justify-start"},[n("el-upload",{staticClass:"upload-box",attrs:{accept:".png",multiple:"","file-list":t.imgFiles,action:this.TOOL.getUploadApi("/sprite/upload"),headers:{token:this.STORAGE.getItem("userInfo").token},"on-error":t.uploadImgError,"on-success":t.uploadImgSuccess}},[n("el-button",{attrs:{size:"small",type:"primary"}},[t._v("上传图标")]),n("el-button",{attrs:{size:"small",type:"success"},on:{click:function(e){return e.stopPropagation(),t.compileSpriteIcon.apply(null,arguments)}}},[t._v("立即编译")]),n("el-button",{attrs:{size:"small",type:"warning"},on:{click:function(e){return e.stopPropagation(),t.downloaSpriteIcon.apply(null,arguments)}}},[t._v("下载全部")]),n("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v(" tips：图标仅支持上传.png文件！ ")])],1)],1),n("main",[n("ul",t._l(t.iconNames,(function(e,a){return n("li",{key:a},[n("div",{staticClass:"icon-hs",class:t.handleSpriteIconName(e)}),n("div",{staticClass:"shadow-panel"},[n("span",{on:{click:function(n){return t.copyIconName(e)}}},[t._v("复制")]),n("el-popconfirm",{attrs:{"popper-class":"delete-popcomfirm",title:"您确定删除该项吗？"},on:{confirm:function(n){return t.deleteSpriteIcon(e,a)}}},[n("span",{attrs:{slot:"reference"},slot:"reference"},[t._v("删除")])])],1)])})),0)])])},i=[],o=(n("4de4"),n("ac1f"),n("1276"),n("a434"),{name:"SpriteIconPage",data:function(){return{iconNames:null,imgFiles:[]}},mounted:function(){this.queryAllSpriteIcon()},methods:{uploadImgSuccess:function(t){this.$notify({title:t.data?"上传成功":"上传失败",message:t.msg,type:t.data?"success":"error",position:"top-left",duration:2e3}),t.data||(this.imgFiles=[])},uploadImgError:function(t){this.imgFiles=[]},compileSpriteIcon:function(){this.API.compileSpriteIcon().then((function(t){window.location.reload()}))},downloaSpriteIcon:function(){var t=this;this.API.downloadSpriteIcon().then((function(e){var n=t.TOOL.handleFileURL(e.data.data);t.TOOL.downloadFile(n,"spriteIcons.zip")}))},queryAllSpriteIcon:function(){var t=this;this.API.findAllSpriteIcon().then((function(e){t.iconNames=e.data.data.filter((function(t){return/\.png$/.test(t)}))}))},handleSpriteIconName:function(t){return"icon-hs-".concat(t.split(".")[0])},deleteSpriteIcon:function(t,e){var n=this;this.API.deleteSpriteIcon({filePath:t}).then((function(t){n.iconNames.splice(e,1)}))},copyIconName:function(t){this.TOOL.copyTextToClip("icon-hs-".concat(t.split(".")[0]),"拷贝成功")}}}),c=o,s=(n("fb74"),n("2877")),l=Object(s["a"])(c,a,i,!1,null,"0f8d6f36",null);e["default"]=l.exports},dec9:function(t,e,n){"use strict";n("3e5e")},f6af:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"SiteManage"},[n("el-tabs",{staticClass:"tab-group",on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[n("el-tab-pane",{attrs:{label:"主页网址",name:"one"}},[n("home-page")],1),n("el-tab-pane",{attrs:{label:"精灵图库",name:"two"}},[n("SpriteIconPage")],1)],1)],1)},i=[],o=n("41052"),c=n("aa8f"),s={name:"SiteManage",data:function(){return{activeName:"one"}},created:function(){this.querySiteDataByToken()},mounted:function(){},props:{},components:{HomePage:o["default"],SpriteIconPage:c["default"]},methods:{handleClick:function(t,e){},querySiteDataByToken:function(){var t=this;this.API.getSiteData().then((function(e){var n=e.data.data[0];t.$store.dispatch("initUserSiteData",{site:n.site,toy:n.resource,config:n.config,resource:n.resource})}))}}},l=s,r=(n("dec9"),n("2877")),u=Object(r["a"])(l,a,i,!1,null,"ab5a49dc",null);e["default"]=u.exports},fb74:function(t,e,n){"use strict";n("13f9")}}]);